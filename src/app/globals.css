@import "tailwindcss";

/* ---- Theme tokens ---- */
:root {
  --background: #ffffff;
  --foreground: #171717;
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
}

@media (prefers-color-scheme: dark) {
  :root {
    --background: #0a0a0a;
    --foreground: #ededed;
  }
}

/* ---- Base html/body ---- */
html, body { height: 100%; }

body {
  /* IMPORTANT: no page-wide color/gradient; let the Background component show through */
  background: transparent;            /* ⟵ this fixes the dark frame */
  color: var(--foreground);
  font-family: Arial, Helvetica, sans-serif;
}

/* You can keep a gradient on your NAV component itself, not on <body>. */

/* ---- Nice-to-have polish ---- */
::-webkit-scrollbar { height: 10px; width: 10px; }
::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.15); border-radius: 9999px; }
html { -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale; }

/* ---- Vista layout helpers (optional, keep if you use them) ---- */
/* default gaps for grid/flex if none specified */
.vista-main :where(.grid):not([class*="gap-"]) { gap: 2rem; }     /* = gap-8 */
.vista-main :where(.flex):not([class*="gap-"]) { gap: 2rem; }

/* fallback vertical spacing between stacked sections */
.vista-main > * + * { margin-top: 2rem; }                         /* = mt-8 */

/* ensure cards never “bleed” into each other visually */
.vista-main .vista-card { 
  position: relative; 
  z-index: 0; 
  overflow: hidden;
  margin: 0;
}
.vista-main .vista-card + .vista-card { margin-top: 2rem; }
.no-scrollbar::-webkit-scrollbar { display: none; }
.no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
/* Full-viewport image background behind everything */
body::before {
  content: "";
  position: fixed;
  inset: 0;
  background: url("/images/dashboard/bg-church4.jpeg") center / cover no-repeat;
  z-index: -1;          /* behind content */
}
body::after {
  /* optional dark overlay for contrast */
  content: "";
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.30);
  z-index: -1;
}

/* Red strobing overlay for verified threats (more pronounced) */
@keyframes pulse-red-alert {
  0% { opacity: 0.25; filter: saturate(1.2) brightness(1.0); }
  50% { opacity: 0.85; filter: saturate(1.5) brightness(1.15); }
  100% { opacity: 0.25; filter: saturate(1.2) brightness(1.0); }
}

.strobe-red-alert {
  background:
    radial-gradient(ellipse at center,
      rgba(255,0,0,0.65) 0%,
      rgba(255,0,0,0.45) 35%,
      rgba(255,0,0,0.28) 60%,
      rgba(255,0,0,0.12) 80%,
      transparent 100%);
  animation: pulse-red-alert 0.85s ease-in-out infinite;
  /* Add a subtle glow to the card edges while strobing */
  box-shadow: inset 0 0 60px rgba(255,0,0,0.45), 0 0 36px rgba(255,0,0,0.35);
}

/* Allow pages to suppress strobes globally (e.g., after clicking All Clear) */
body.strobe-suppressed .strobe-red-alert {
  display: none !important;
}
